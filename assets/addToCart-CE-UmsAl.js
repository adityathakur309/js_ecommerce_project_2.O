import{g as u,n as y}from"./getcartProductFromLs-CAO1KsUO.js";import{s as I,p as q}from"./toast-RN15fP-X.js";const P=r=>{let a=u().find(n=>n.id===r),e=parseInt(a.quantity),i=parseInt(a.price);return{quantity:e,price:i}},g=(r,c,a,e)=>{let i=document.getElementById(`#cart${c}`),n=i.querySelector(".quantity"),l=i.querySelector(".cart-price"),o=u(),s=o.find(d=>d.id===c),t=parseInt(n.getAttribute("cart-quantity"))||parseInt(n.innerText);if(r.target.classList.contains("increment")&&(t===a?(t=a,t=parseInt(t),e=parseInt(e)*parseInt(t)):t<a&&(t++,t=parseInt(t),e=parseInt(e)*parseInt(t))),r.target.classList.contains("decrement")&&(t===1?(t=1,t=parseInt(t),e=parseInt(e)*parseInt(t)):t>1&&(t--,t=parseInt(t),e=parseInt(e)*parseInt(t))),s&&t>1){let d={id:c,price:e,quantity:t};o=o.map(p=>p.id===s.id?d:p),localStorage.setItem("cartProduct",JSON.stringify(o))}n.setAttribute("cart-quantity",parseInt(t)),n.innerText=parseInt(t),l.innerText=`Price: ₹${parseInt(e)}`},m=()=>{let r=document.querySelector(".sub-total"),c=document.querySelector(".total"),i=u().reduce((l,o)=>l+o.price,0),n=parseInt(i);r.innerText=`₹${n}`,c.innerText=`₹${n+50}`},f=r=>{let c=document.getElementById(`#cart${r}`),a=u();a=a.filter(e=>e.id!==r),c.remove(),I("delete",r),localStorage.setItem("cartProduct",JSON.stringify(a))};u();let S=u();y();m();let T=q.filter(r=>S.some(c=>c.id===r.id));T.forEach(r=>{let{name:c,image:a,stock:e,price:i,id:n}=r,l=document.querySelector(".cart-items"),o=document.getElementById("cart-item"),s=P(n),t=document.importNode(o.content,!0);t.querySelector(".cart-item").setAttribute("id",`#cart${n}`),t.querySelector(".cart-img").src=a,t.querySelector(".product-name").innerText=c,t.querySelector(".cart-price").innerText=i,t.querySelector(".cart-price").innerText=`Price:₹${i}`,t.querySelector(".quantity").innerText=s.quantity,t.querySelector(".cart-price").innerText=`Price:₹${s.price}`,t.querySelector(".buttons").addEventListener("click",d=>{g(d,n,e,i),m()}),t.querySelector(".remove").addEventListener("click",()=>{f(n),m()}),l.append(t)});
